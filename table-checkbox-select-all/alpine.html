<script src="https://demo.htmx.org"></script>
<script src="https://unpkg.com/htmx.org/dist/ext/alpine-morph.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
 
<table x-data="{ selectedRows: [] }" x-ref="selectedRowsTable">
  <thead>
    <tr><td><input type="checkbox" @click="$el.checked ? $refs.selectedRowsTable.querySelectorAll('INPUT.rowCheckbox').forEach(x => selectedRows.push(x.value)) : selectedRows = []"></td><td>Row</td></tr>
  </thead>
  <tbody>
    <tr><td><input type="checkbox" class="rowCheckbox" x-model="selectedRows" value="1"></td><td>Row1</td></tr>
    <tr><td><input type="checkbox" class="rowCheckbox" x-model="selectedRows" value="2"></td><td>Row2</td></tr>
  </tbody>
</table>
